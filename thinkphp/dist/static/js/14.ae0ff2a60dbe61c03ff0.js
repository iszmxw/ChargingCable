webpackJsonp([14],{"3Lne":function(t,e,i){"use strict";var n=i("nsZj"),s=(i.n(n),i("nOtf"));i.n(s)},MN0q:function(t,e){},Uhye:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("Xxa5"),s=i.n(n),l=i("exGp"),a=i.n(l),o=(i("mMXg"),i("qYlo")),r=(i("nsZj"),i("ZZgd"),i("o69Z")),c=i("pIDD"),d=i("5Fm4"),u=i("JOBW"),h=Object(r.b)("list"),v=h[0],f=h[1],g=h[2],p=v({mixins:[Object(d.a)(function(t){this.scroller||(this.scroller=Object(u.b)(this.$el)),t(this.scroller,"scroll",this.check)})],model:{prop:"loading"},props:{error:Boolean,loading:Boolean,finished:Boolean,errorText:String,loadingText:String,finishedText:String,immediateCheck:{type:Boolean,default:!0},offset:{type:Number,default:300},direction:{type:String,default:"down"}},mounted:function(){this.immediateCheck&&this.$nextTick(this.check)},watch:{loading:function(){this.$nextTick(this.check)},finished:function(){this.$nextTick(this.check)}},methods:{check:function(){if(!(this.loading||this.finished||this.error)){var t,e=this.$el,i=this.scroller,n=this.offset,s=this.direction;if(!((t=i.getBoundingClientRect?i.getBoundingClientRect():{top:0,bottom:i.innerHeight}).bottom-t.top)||"none"===window.getComputedStyle(e).display||null===e.offsetParent)return!1;var l=this.$refs.placeholder.getBoundingClientRect();("up"===s?l.top-t.top<=n:l.bottom-t.bottom<=n)&&(this.$emit("input",!0),this.$emit("load"))}},clickErrorText:function(){this.$emit("update:error",!1),this.$nextTick(this.check)}},render:function(t){var e=t("div",{ref:"placeholder",class:f("placeholder")});return t("div",{class:f(),attrs:{role:"feed","aria-busy":this.loading}},["down"===this.direction?this.slots():e,this.loading&&t("div",{class:f("loading"),key:"loading"},[this.slots("loading")||t(c.a,{attrs:{size:"16"}},[this.loadingText||g("loading")])]),this.finished&&this.finishedText&&t("div",{class:f("finished-text")},[this.finishedText]),this.error&&this.errorText&&t("div",{on:{click:this.clickErrorText},class:f("error-text")},[this.errorText]),"up"===this.direction?this.slots():e])}}),_=(i("3Lne"),i("SSsa")),b=(i("nOtf"),i("RfZZ")),m=i("AA6R"),x=i.n(m),k={icon:String,size:String,center:Boolean,isLink:Boolean,required:Boolean,clickable:Boolean,titleStyle:null,titleClass:null,valueClass:null,labelClass:null,title:[Number,String],value:[Number,String],label:[Number,String],arrowDirection:String,border:{type:Boolean,default:!0}},w=i("rhik"),j=i("n8HW"),y=i("+2ln"),S=Object(r.b)("cell"),C=S[0],O=S[1];function T(t,e,i,n){var s=e.icon,l=e.size,a=e.title,o=e.label,c=e.value,d=e.isLink,u=e.arrowDirection,h=i.title||Object(r.d)(a),v=i.default||Object(r.d)(c),f=(i.label||Object(r.d)(o))&&t("div",{class:[O("label"),e.labelClass]},[i.label?i.label():o]),g=h&&t("div",{class:[O("title"),e.titleClass],style:e.titleStyle},[i.title?i.title():t("span",[a]),f]),p=v&&t("div",{class:[O("value",{alone:!i.title&&!a}),e.valueClass]},[i.default?i.default():t("span",[c])]),_=i.icon?i.icon():s&&t(y.a,{class:O("left-icon"),attrs:{name:s}}),b=i["right-icon"],m=b?b():d&&t(y.a,{class:O("right-icon"),attrs:{name:u?"arrow-"+u:"arrow"}});var k={center:e.center,required:e.required,borderless:!e.border,clickable:d||e.clickable};return l&&(k[l]=l),t("div",x()([{class:O(k),on:{click:function(t){Object(w.a)(n,"click",t),Object(j.a)(n)}}},Object(w.b)(n)]),[_,g,p,m,i.extra&&i.extra()])}T.props=Object(b.a)({},k,{},j.b);var B={components:{"van-cell":C(T),"van-button":_.a,"van-list":p,"van-popup":o.a},data:function(){return{user:"全部用户",dengji:"全部等级",dengji_list:[{level_id:0,level_name:"全部用户"}],count0:0,count1:0,p:1,list:[],loading:!1,finished:!1,page:null,level_:0,value1:0,value2:"a",isshow1:!1,isshow2:!1,dengji_id:0,user_id:0,index1:0,jibie:["全部等级","一级","二级"],index_right:0}},created:function(){this.getdata(),this.count_1()},methods:{getdata:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.user_id,e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.dengji_id,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.p;return a()(s.a.mark(function l(){var a;return s.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return 1==n&&(e.dengji_list=[{level_id:0,level_name:"全部用户"}]),s.next=3,myfirends({level:i,level_id:t,p:n});case 3:a=s.sent,e.dengji_list=e.dengji_list.concat(a.data.grade),e.count1=a.data.count1,console.log(a.data);case 7:case"end":return s.stop()}},l,e)}))()},submit:function(t){this.level_=t},onLoad:function(){var t=this;return a()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.$route.query.id,t.loading&&myfirends({level:t.dengji_id,level_id:t.user_id,p:t.p}).then(function(e){console.log(e.data);var i=e.data.list;t.loading=!1,t.list=t.list.concat(i),console.log(t.list,88888),t.p+=1,console.log(t.p),(t.list.length>=e.data.count||0==e.data.list.length)&&(console.log(12),t.finished=!0)});case 2:case"end":return e.stop()}},e,t)}))()},getdata1:function(t,e,i){var n=this;return a()(s.a.mark(function l(){var a;return s.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return n.dengji_list=[{level_id:0,level_name:"全部用户"}],n.list=[],s.next=4,myfirends({level:e,level_id:t,p:1});case 4:a=s.sent,n.dengji_list=n.dengji_list.concat(a.data.grade),n.p=2,n.user_id=t,n.list=n.list.concat(a.data.list),console.log(a.data),n.finished=!1,n.user=i,n.index1=t;case 13:case"end":return s.stop()}},l,n)}))()},getdata2:function(t,e){var i=this;return a()(s.a.mark(function n(){var l;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i.dengji_list=[{level_id:0,level_name:"全部用户"}],i.list=[],n.next=4,myfirends({level:e,level_id:t,p:1});case 4:l=n.sent,i.dengji_list=i.dengji_list.concat(l.data.grade),i.p=2,i.user_id=t,i.list=i.list.concat(l.data.list),console.log(l.data),i.finished=!1,i.dengji_id=e,i.dengji=i.jibie[e],i.index_right=e;case 14:case"end":return n.stop()}},n,i)}))()},count_1:function(){var t=this;return a()(s.a.mark(function e(){var i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,count_();case 2:i=e.sent,t.count0=i.data;case 4:case"end":return e.stop()}},e,t)}))()}}},$={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"box"}},[i("div",{staticClass:"top"},[i("div",{staticClass:"inner"},[i("span",[t._v(t._s(t.count0))]),t._v(" "),i("span",[t._v("一类顾客")])]),t._v(" "),i("span",{staticStyle:{opacity:"0.7"}},[t._v("|")]),t._v(" "),i("div",{staticClass:"inner"},[i("span",[t._v(t._s(t.count1))]),t._v(" "),i("span",[t._v("二类顾客")])])]),t._v(" "),i("div",{staticClass:"collapse"},[i("van-cell",{attrs:{title:t.user,"is-link":"","arrow-direction":"down"},on:{click:function(e){t.isshow1=!0,t.submit(1)}}}),t._v(" "),i("van-cell",{attrs:{title:t.dengji,"is-link":"","arrow-direction":"down"},on:{click:function(e){t.isshow2=!0,t.submit(2)}}})],1),t._v(" "),i("van-popup",{staticStyle:{height:"100%",display:"flex","flex-direction":"column","padding-top":"25%",width:"30%"},attrs:{position:"left"},model:{value:t.isshow1,callback:function(e){t.isshow1=e},expression:"isshow1"}},[i("div",{staticClass:"left"},t._l(t.dengji_list,function(e,n){return i("ul",{key:n},[i("li",{staticStyle:{height:"30pt","text-align":"center","line-height":"30pt"},on:{click:function(i){t.getdata1(e.level_id,t.dengji_id,e.level_name),t.isshow1=!1}}},[i("span",{class:t.index1==e.level_id?"active":""},[t._v(t._s(e.level_name))])])])}),0)]),t._v(" "),i("van-popup",{staticStyle:{height:"100%",display:"flex","flex-direction":"column","padding-top":"25%",width:"30%"},attrs:{position:"right"},model:{value:t.isshow2,callback:function(e){t.isshow2=e},expression:"isshow2"}},[i("div",{staticClass:"left"},t._l(t.jibie,function(e,n){return i("ul",{key:n},[i("li",{staticStyle:{height:"30pt","text-align":"center","line-height":"30pt"},on:{click:function(e){t.getdata2(t.user_id,n),t.isshow2=!1}}},[i("span",{class:t.index_right==n?"active":""},[t._v(t._s(e))])])])}),0)])],1)},staticRenderFns:[]};var Z=i("VU/8")(B,$,!1,function(t){i("MN0q")},"data-v-3f43350e",null);e.default=Z.exports},ZZgd:function(t,e){}});
//# sourceMappingURL=14.ae0ff2a60dbe61c03ff0.js.map