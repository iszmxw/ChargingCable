webpackJsonp([37],{hr0M:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});e("eqfM");var s=e("/QYm"),i=(e("FO5P"),e("woHG")),d=(e("mMXg"),e("qYlo")),o=(e("X+8o"),e("iTiM")),r=(e("cZ0s"),e("fIxc")),n=(e("le1z"),e("hZxG")),c=(e("HZGa"),e("pykS")),l=(e("k3b4"),e("+2ln")),u=e("D6FL"),v=e("+Jte"),h={components:{"van-icon":l.a,"van-radio-group":c.a,"van-radio":n.a,"van-checkbox":r.a,"van-area":o.a,"van-popup":d.a,vanNavBar:i.a},data:function(){return{checked:!1,data:{famale:1,city:"",name:"",country:0,district:"",is_default:0,mobile:"",province:"点击选择地址",twon:"",address:""},is_default:1,address:[],site:v.a.site,show:!1,changed:!1,address_id:""}},created:function(){this.$route.query.data&&(this.data={address_id:this.$route.query.data.address_id,name:this.$route.query.data.consignee,province:this.$route.query.data.province,city:this.$route.query.data.city,district:this.$route.query.data.district,address:this.$route.query.data.address,mobile:this.$route.query.data.mobile,is_default:this.$route.query.data.is_default,famale:String(this.$route.query.data.sex)},this.address_id=this.$route.query.data.address_id,console.log(this.data))},watch:{data:function(){this.changed=!0,console.log(this.data)}},methods:{default_:function(){this.data.is_default=1==this.data.is_default?0:1,console.log(this.data)},changeAddress:function(t){this.data.province=t[0].name,this.data.city=t[1].name,this.data.district=t[2].name,this.show=!1},sub:function(){var t=this,a={};a.address_id=this.address_id,a.consignee=this.data.name,a.mobile=this.data.mobile,a.province=this.data.province,a.city=this.data.city,a.district=this.data.district,a.address=this.data.address,a.sex=this.data.famale,a.is_default=this.data.is_default,this.data.province||this.data.mobile||this.data.consignee?/^1[3456789]\d{9}$/.test(this.data.mobile)?this.$route.query.data&&this.changed?Object(u.c)(a).then(function(a){200==a.code?(Object(s.a)("修改成功"),t.$router.go(-1)):Object(s.a)("保存失败，请确认信息填写无误！")}):this.$route.query.data?Object(s.a)("保存失败，请确认信息填写无误！"):Object(u.c)(a).then(function(a){200==a.code?(Object(s.a)("保存成功"),t.$router.go(-1)):Object(s.a)("保存失败，请确认信息填写无误！")}):Object(s.a)("手机号码格式错误"):Object(s.a)("请输入完整的收货地址")}}},m={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"wrap mod_address"},[e("div",{staticClass:"item flex-center-y"},[e("div",{staticClass:"title"},[t._v("收货地址：")]),t._v(" "),e("input",{attrs:{type:"text",placeholder:"点击选择",readonly:""},domProps:{value:t.data.province+" "+t.data.city+" "+t.data.district},on:{click:function(a){t.show=!0}}}),t._v(" "),e("van-icon",{staticClass:"arrow",attrs:{name:"arrow"}})],1),t._v(" "),e("div",{staticClass:"item flex-center-y"},[e("div",{staticClass:"title"},[t._v("门牌号：")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.data.address,expression:"data.address"}],attrs:{type:"text",placeholder:"详细地址，例：16号楼5层501室"},domProps:{value:t.data.address},on:{input:function(a){a.target.composing||t.$set(t.data,"address",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"item flex-center-y"},[e("div",{staticClass:"title"},[t._v("联系人：")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.data.name,expression:"data.name"}],attrs:{type:"text",placeholder:"请填写收货人的姓名"},domProps:{value:t.data.name},on:{input:function(a){a.target.composing||t.$set(t.data,"name",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"item flex-center-y"},[e("div",{staticClass:"title"}),t._v(" "),e("div",{staticClass:"flex1",staticStyle:{color:"#000"}},[e("van-radio-group",{staticClass:"flex",model:{value:t.data.famale,callback:function(a){t.$set(t.data,"famale",a)},expression:"data.famale"}},[e("van-radio",{attrs:{name:"1","checked-color":"#EF2C10"}},[t._v("先生")]),t._v(" "),e("van-radio",{staticClass:"radio",attrs:{name:"2","checked-color":"#EF2C10"}},[t._v("女士")])],1)],1)]),t._v(" "),e("div",{staticClass:"item flex-center-y"},[e("div",{staticClass:"title"},[t._v("手机号：")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.data.mobile,expression:"data.mobile"}],attrs:{type:"number",placeholder:"请填写收货人的手机号码"},domProps:{value:t.data.mobile},on:{input:function(a){a.target.composing||t.$set(t.data,"mobile",a.target.value)}}})]),t._v(" "),e("div",{attrs:{id:"dizhi"},on:{click:function(a){t.default_()}}},[e("span",{staticClass:"radio",class:{active:1==t.data.is_default}}),t._v(" "),e("span",[t._v("设置为默认地址")])]),t._v(" "),e("div",{staticClass:"button flex-center",on:{click:function(a){t.sub()}}},[t._v(" "+t._s(this.$route.query.data?"修改":"添加"))]),t._v(" "),e("van-popup",{attrs:{position:"bottom"},model:{value:t.show,callback:function(a){t.show=a},expression:"show"}},[e("van-area",{attrs:{"area-list":t.site},on:{cancel:function(a){t.show=!1},confirm:t.changeAddress}})],1)],1)},staticRenderFns:[]};var f=e("VU/8")(h,m,!1,function(t){e("hxfX")},"data-v-057bea1a",null);a.default=f.exports},hxfX:function(t,a){}});
//# sourceMappingURL=37.e47e356769710e9ae6d3.js.map