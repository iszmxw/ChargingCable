webpackJsonp([11],{SOzp:function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAvoAAAAFCAYAAAA0REgwAAACE0lEQVRoQ+2YMU8CQRCFZzlBbSjQSC+dlTEk0hFsTeig4B/QQGPBT6CggcZ/QIFWJrQaOkyIsaLDHiMUNioI60qMGBp2bifxSN52F94Ome/tvOydopWlWzlvkhhWSamL1d/+4XmqiMqRk86l2H+3Wl5seFhVmgLRn+mrPColRfqDd2KnxKbQFN7ZYPrRYO4YsJykyEwGPmQmA5a7FJnJYYjM5NBy0cplZkA9M/fo5dLd0+gkvN00l/xzF2pCe0fzEOV2jzt3QvUo1uhGibaapulA9GdeNnIv5aRIf/BO6pRY1RnBOytOCxHmzp6VoxKZyQCIzGTAcpciMxkMkZkMWG5SscwMsme/F/333llChWY3htmRGzeR3X0997I7yduBSDVT5KDRS8yIAtOfR5R9LiVF+oN3UqfEqk4f3llxWogwd/asHJXITAZAZCYDlrsUmclgiMxkwHKTimVm0D1bXPTfHtOZ0Jyuvz++uXET2K11OzL9KKjU/atAtUWJ/Xovo1Uw+tNEbaLPwriUEukP3kmdkvV14N16Rn8VmDseL99qZCYLHTKThctJjMzk4UNm8nj5Vgtm5iZ4piYP6aIZxroBFvYNTWqj1rXIIF5R+Svz8V1m7TV6RVMpEP2Zl43aOP5UoXxepD94J3NGbKrAOxtKSw3mjsfLtxqZyUKHzGThchIjM3n4kJk8Xr7Vgpm5KZ59AdmbUySPg8wqAAAAAElFTkSuQmCC"},ZR3B:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});e("eqfM");var s=e("/QYm"),i=(e("mMXg"),e("qYlo")),n=(e("nsZj"),e("yU4Z"),e("AA6R")),o=e.n(n),d=e("o69Z"),c=e("LmuL"),r={value:null,loading:Boolean,disabled:Boolean,activeColor:String,inactiveColor:String,activeValue:{type:null,default:!0},inactiveValue:{type:null,default:!1},size:{type:String,default:"30px"}},l=e("rhik"),p=e("pIDD"),u=Object(d.b)("switch"),v=u[0],g=u[1];function _(t,a,e,s){var i=a.size,n=a.value,d=a.loading,r=a.disabled,u=a.activeColor,v=a.activeValue,_=a.inactiveColor,m=a.inactiveValue,C=n===v,f={fontSize:i,backgroundColor:C?u:_},h=C?u||c.a:_||c.c;return t("div",o()([{class:g({on:C,disabled:r}),attrs:{role:"switch","aria-checked":String(C)},style:f,on:{click:function(){if(!r&&!d){var t=C?m:v;Object(l.a)(s,"input",t),Object(l.a)(s,"change",t)}}}},Object(l.b)(s)]),[t("div",{class:g("node")},[d&&t(p.a,{class:g("loading"),attrs:{color:h}})])])}_.props=r;var m=v(_),C=(e("k3b4"),e("+2ln")),f=e("mtWM"),h=e.n(f),A=e("c2Ch"),y={components:{"van-icon":C.a,"van-switch":m,"van-popup":i.a},data:function(){return{pay_points:!1,user_money:!1,couponShow:!1,coupon:"",address:"",addressShow:!1,data:{address:{},cartList:[]},user_note:""}},created:function(){this.getData()},methods:{getData:function(){var t=this;if(""==this.$route.query.action){var a=new URLSearchParams;a.append("cart_ids",this.$route.query.ids),a.append("openid",localStorage.getItem("openid")),h.a.post(A.a.bugNow,a).then(function(a){400===a.data.code?Object(s.a)("您还没有添加默认收货地址，请添加或设置默认收货地址"):t.data=a.data.data})}else{var e=new URLSearchParams;e.append("goods_id",this.$route.query.goods_id),e.append("openid",localStorage.getItem("openid")),e.append("goods_num",this.$route.query.goods_num),e.append("action","buy_now"),e.append("item_id",this.$route.query.item_id),h.a.post(A.a.bugNow,e).then(function(a){400===a.data.code?Object(s.a)("您还没有添加默认收货地址，请添加或设置默认收货地址"):t.data=a.data.data})}},use:function(t){this.coupon=t,this.couponShow=!1},useAddress:function(t){this.address=t,this.addressShow=!1},getAddressList:function(){this.$router.push("/address")},submit:function(){var t=this,a=new URLSearchParams;a.append("openid",localStorage.getItem("openid")),a.append("goods_id",this.data.cartList[0].goods_id),a.append("goods_num",this.data.cartList[0].goods_num),a.append("action","buy_now"),a.append("address_id",this.data.address.address_id),a.append("coupon_id",""),a.append("pay_points",""),a.append("user_money",""),a.append("user_note",this.user_note),h.a.post(A.a.addOrder,a).then(function(a){"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",t.onBridgeReady(a),!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",t.onBridgeReady(a)),document.attachEvent("onWeixinJSBridgeReady",t.onBridgeReady(a))):t.onBridgeReady(a)})},onBridgeReady:function(t){var a=this;WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:t.data.data.appId,timeStamp:t.data.data.timeStamp,nonceStr:t.data.data.nonceStr,package:t.data.data.package,signType:t.data.data.signType,paySign:t.data.data.paySign},function(t){"get_brand_wcpay_request:ok"==t.err_msg&&a.$router.push({path:"/my"})})}},computed:{total:function(){var t=0;return this.data.cartList.forEach(function(a,e){t+=Number(a.shop_price)*a.goods_num}),t.toFixed(2)},price:function(){var t=Number(this.total);return this.user_money&&(t-=this.data.user_money),this.pay_points&&(t-=this.data.pay_points),""!==this.coupon&&(t-=this.coupon.expression),t.toFixed(2)}}},w={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("div",{staticClass:"user flex-center-y"},[s("img",{staticClass:"address_icon",attrs:{src:e("rzm/")}}),t._v(" "),s("div",{staticClass:"flex_1"},[s("div",{staticClass:"flex-between"},[s("span",[t._v("收货人："+t._s(t.data.address.consignee))]),t._v(" "),s("span",{staticStyle:{"margin-left":"auto"}},[t._v(t._s(t.data.address.mobile))])]),t._v(" "),t.data.address.city?s("p",{staticClass:"address"},[t._v(t._s(t.data.address.city+t.data.address.district+t.data.address.address))]):t._e()]),t._v(" "),s("van-icon",{staticClass:"arrow address_arrow",attrs:{name:"arrow"},on:{click:t.getAddressList}})],1),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"list"},[t._l(t.data.cartList,function(a){return s("div",{key:a.goods_id,staticClass:"info flex"},[s("img",{staticClass:"product_img",attrs:{src:a.original_img}}),t._v(" "),s("div",{staticClass:"flex-between"},[s("p",{staticClass:"title"},[t._v(t._s(a.goods_name))])]),t._v(" "),s("div",{staticClass:"flex_right"},[s("p",{staticClass:"price"},[t._v("￥"+t._s(a.shop_price))]),t._v(" "),s("p",{staticClass:"num"},[t._v("x"+t._s(a.goods_num))])])])}),t._v(" "),s("div",{staticClass:"item flex-between"},[s("div",{staticClass:"title"},[t._v("备注")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user_note,expression:"user_note"}],staticClass:"flex_1",attrs:{type:"text",placeholder:"请输入要备注的内容"},domProps:{value:t.user_note},on:{input:function(a){a.target.composing||(t.user_note=a.target.value)}}})]),t._v(" "),s("div",{staticClass:"price_info"},[s("p",{staticClass:"flex-between"},[s("span",{staticClass:"info_title"},[t._v("商品金额：")]),t._v(" "),s("span",{staticClass:"price"},[t._v("￥"+t._s(t.total))])]),t._v(" "),t._m(1),t._v(" "),s("p",{staticClass:"flex-between"},[s("span",{staticClass:"info_title"},[t._v("优惠券抵扣：")]),t._v(" "),s("span",{staticClass:"price"},[t._v("-￥"+t._s(""!==t.coupon&&t.coupon.expression?t.coupon.expression:"0.00"))])]),t._v(" "),s("p",{staticClass:"flex-between"},[s("span",{staticClass:"info_title"},[t._v("积分抵扣：")]),t._v(" "),s("span",{staticClass:"price"},[t._v("-￥"+t._s(t.pay_points&&t.data.pay_points?t.data.pay_points:"0.00"))])])])],2),t._v(" "),s("div",{staticClass:"button_wrap flex-between"},[s("p",[t._v("\n      需支付：\n      "),s("span",[t._v("￥"+t._s(t.price))])]),t._v(" "),s("div",{staticClass:"submit flex-center",on:{click:t.submit}},[t._v("提交订单")])]),t._v(" "),s("van-popup",{attrs:{position:"bottom"},model:{value:t.couponShow,callback:function(a){t.couponShow=a},expression:"couponShow"}},[s("div",{staticClass:"coupon_list"},t._l(t.data.userCartCouponList,function(a,e){return s("div",{key:e,staticClass:"item flex-center-y"},[s("div",{staticClass:"left flex-center"},[s("div",{staticClass:"num"},[t._v(t._s(a.expression))]),t._v(" "),s("div",{staticClass:"text"},[t._v(t._s(a.content))])]),t._v(" "),s("div",{staticClass:"center flex_1"},[s("p",{staticClass:"title"},[t._v(t._s(a.name))]),t._v(" "),s("p",{staticClass:"time"},[t._v("有效期至 ["+t._s(a.end_time)+"]")])]),t._v(" "),s("div",{staticClass:"right flex-center",on:{click:function(e){return t.use(a)}}},[s("div",{staticClass:"button flex-center"},[t._v("去使用")])])])}),0)])],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"wrap_img"},[a("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e("SOzp")}})])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",{staticClass:"flex-between"},[a("span",{staticClass:"info_title"},[this._v("运费：")]),this._v(" "),a("span",{staticClass:"price"},[this._v("+￥0.00")])])}]};var S=e("VU/8")(y,w,!1,function(t){e("l+HZ")},"data-v-2df9b0d5",null);a.default=S.exports},"l+HZ":function(t,a){},"rzm/":function(t,a){t.exports="data:image/png;base64,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"},yU4Z:function(t,a){}});
//# sourceMappingURL=11.1214639c59b6350c3ff8.js.map